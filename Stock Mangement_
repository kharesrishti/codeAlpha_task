{"cells":[{"source":["# Stock Mangement\n","!pip install yfinance pandas\n","#fetch stck data\n","import yfinance as yf\n","\n","def get_stock_price(symbol):\n","    \"\"\"Fetches the current stock price for a given symbol.\"\"\"\n","    stock = yf.Ticker(symbol)\n","    return stock.history(period=\"1d\")['Close'].iloc[-1]\n","    #portfolio mangement\n","portfolio = {}\n","\n","def add_stock(symbol, shares):\n","    \"\"\"Adds a stock to the portfolio.\"\"\"\n","    if symbol in portfolio:\n","        portfolio[symbol] += shares\n","    else:\n","        portfolio[symbol] = shares\n","    print(f\"Added {shares} shares of {symbol} to the portfolio.\")\n","\n","def remove_stock(symbol, shares):\n","    \"\"\"Removes a stock from the portfolio.\"\"\"\n","    if symbol in portfolio:\n","        if portfolio[symbol] >= shares:\n","            portfolio[symbol] -= shares\n","            if portfolio[symbol] == 0:\n","                del portfolio[symbol]\n","            print(f\"Removed {shares} shares of {symbol} from the portfolio.\")\n","        else:\n","            print(\"Not enough shares to remove.\")\n","    else:\n","        print(\"Stock not found in portfolio.\")\n","\n","def view_portfolio():\n","    \"\"\"Displays the current portfolio and its value.\"\"\"\n","    total_value = 0\n","    print(\"Current Portfolio:\")\n","    for symbol, shares in portfolio.items():\n","        price = get_stock_price(symbol)\n","        value = price * shares\n","        total_value += value\n","        print(f\"{symbol}: {shares} shares at ${price:.2f} each, Total: ${value:.2f}\")\n","    print(f\"Total Portfolio Value: ${total_value:.2f}\")\n","    #user inteface\n","\n","def main():\n","    while True:\n","        print(\"\\nStock Portfolio Tracker\")\n","        print(\"1. Add Stock\")\n","        print(\"2. Remove Stock\")\n","        print(\"3. View Portfolio\")\n","        print(\"4. Exit\")\n","        choice = input(\"Choose an option: \")\n","\n","        if choice == '1':\n","            symbol = input(\"Enter stock symbol: \")\n","            shares = int(input(\"Enter number of shares: \"))\n","            add_stock(symbol, shares)\n","        elif choice == '2':\n","            symbol = input(\"Enter stock symbol: \")\n","            shares = int(input(\"Enter number of shares to remove: \"))\n","            remove_stock(symbol, shares)\n","        elif choice == '3':\n","            view_portfolio()\n","        elif choice == '4':\n","            print(\"Exiting the program.\")\n","            break\n","        else:\n","            print(\"Invalid choice. Please try again.\")\n","\n","# The second definition of main, get_stock_price, add_stock, remove_stock and view_portfolio have been removed because they are duplicates.\n","# The while loop and following logic within the second main function was already present in the first,\n","# and the redundant function definitions were likely causing confusion.\n","\n","\n","if __name__ == \"__main__\":\n","    main()"],"cell_type":"code","metadata":{"id":"jxttmyswmHSI","outputId":"b091059b-f19e-433a-bf0a-5189b37a9777","colab":{"base_uri":"https://localhost:8080/"}},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["Requirement already satisfied: yfinance in /usr/local/lib/python3.11/dist-packages (0.2.54)\n","Requirement already satisfied: pandas in /usr/local/lib/python3.11/dist-packages (2.2.2)\n","Requirement already satisfied: numpy>=1.16.5 in /usr/local/lib/python3.11/dist-packages (from yfinance) (1.26.4)\n","Requirement already satisfied: requests>=2.31 in /usr/local/lib/python3.11/dist-packages (from yfinance) (2.32.3)\n","Requirement already satisfied: multitasking>=0.0.7 in /usr/local/lib/python3.11/dist-packages (from yfinance) (0.0.11)\n","Requirement already satisfied: platformdirs>=2.0.0 in /usr/local/lib/python3.11/dist-packages (from yfinance) (4.3.6)\n","Requirement already satisfied: pytz>=2022.5 in /usr/local/lib/python3.11/dist-packages (from yfinance) (2025.1)\n","Requirement already satisfied: frozendict>=2.3.4 in /usr/local/lib/python3.11/dist-packages (from yfinance) (2.4.6)\n","Requirement already satisfied: peewee>=3.16.2 in /usr/local/lib/python3.11/dist-packages (from yfinance) (3.17.9)\n","Requirement already satisfied: beautifulsoup4>=4.11.1 in /usr/local/lib/python3.11/dist-packages (from yfinance) (4.13.3)\n","Requirement already satisfied: python-dateutil>=2.8.2 in /usr/local/lib/python3.11/dist-packages (from pandas) (2.8.2)\n","Requirement already satisfied: tzdata>=2022.7 in /usr/local/lib/python3.11/dist-packages (from pandas) (2025.1)\n","Requirement already satisfied: soupsieve>1.2 in /usr/local/lib/python3.11/dist-packages (from beautifulsoup4>=4.11.1->yfinance) (2.6)\n","Requirement already satisfied: typing-extensions>=4.0.0 in /usr/local/lib/python3.11/dist-packages (from beautifulsoup4>=4.11.1->yfinance) (4.12.2)\n","Requirement already satisfied: six>=1.5 in /usr/local/lib/python3.11/dist-packages (from python-dateutil>=2.8.2->pandas) (1.17.0)\n","Requirement already satisfied: charset-normalizer<4,>=2 in /usr/local/lib/python3.11/dist-packages (from requests>=2.31->yfinance) (3.4.1)\n","Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.11/dist-packages (from requests>=2.31->yfinance) (3.10)\n","Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/local/lib/python3.11/dist-packages (from requests>=2.31->yfinance) (2.3.0)\n","Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.11/dist-packages (from requests>=2.31->yfinance) (2025.1.31)\n","\n","Stock Portfolio Tracker\n","1. Add Stock\n","2. Remove Stock\n","3. View Portfolio\n","4. Exit\n","Choose an option: 3\n","Current Portfolio:\n","Total Portfolio Value: $0.00\n","\n","Stock Portfolio Tracker\n","1. Add Stock\n","2. Remove Stock\n","3. View Portfolio\n","4. Exit\n"]}]}],"metadata":{"colab":{"provenance":[{"file_id":"/v2/external/notebooks/intro.ipynb","timestamp":1741250597060}]},"kernelspec":{"display_name":"Python 3","name":"python3"}},"nbformat":4,"nbformat_minor":0}